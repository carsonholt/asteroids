{"code":"!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);const n=720,r=600;var i=document.createElement(\"canvas\"),s=i.getContext(\"2d\");i.height=r,i.width=n,document.body.appendChild(i);var a,c,u=null,h={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},d={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},f=3,p=5,y={x:0,y:0},g=new k(n/2,r/2),w=[],x=[];function m(t){t.x%=n,t.y%=r}function b(t,e){return t.x>=e.x&&t.x<e.x+e.width&&t.y>=e.y&&t.y<e.y+e.height&&(console.log(\"collision detected\"),console.log(t.constructor.name),console.log(e.constructor.name),!0)}function k(t,e){this.x=t,this.y=e}function M(t,e,o,n){this.x=t,this.y=e,this.v=o,this.m=n}function j(t,e,o){this.x=t,this.y=e,this.l=o}window.addEventListener(\"keydown\",function(t){switch(t.key){case\" \":console.log(\"fire?\",h,d),h.space=!0;break;case\"ArrowLeft\":console.log(\"left\"),h.left=!0;break;case\"ArrowRight\":h.right=!0;break;case\"ArrowUp\":console.log(\"up?\",h,d),h.up=!0;break;case\"ArrowDown\":h.down=!0}t.preventDefault()}),console.log(\"Add listener\"),window.addEventListener(\"keyup\",function(t){switch(t.key){case\" \":console.log(\"no fire?\",h,d),h.space=!1;break;case 65:case 37:h.left=!1;break;case 68:case 39:h.right=!1;break;case 38:h.up=!1;break;case 40:h.down=!1}}),console.log(\"START THE GAME!\"),window.requestAnimationFrame(function t(e){u||(u=e);var o=e-u;u=e,console.log(\"loop\"),0==x.length&&function(){for(0;x.length<p;){var t=Math.random()*n,e=Math.random()*r;if(t<n/2-50&&t>n/2+50&&e<r/2-50&&e>r/2+50){var o=10*Math.random()-5,i=10*Math.random()-5,s=40*Math.random()+20;x.push(t,e,{x:o,y:i},s)}}}(),function(t){h.space&&!d.space&&(w.push(new j(g.x+15,g.y,10)),console.log(\"laser fired\")),h.up&&(console.log(g.y),y={x:0,y:-1},g.y+=y*t,console.log(g.y)),h.down&&(y={x:0,y:1},g.y+=y*t,console.log(g.y)),h.left&&(g.rotate(s),console.log(g.x)),h.right&&(g.rotate(s),console.log(g.x)),x.forEach(function(e){e.update(t),b(e,g)?life--:(e.x<1||e.x>n||e.y<1||e.y>r)&&m(e)}),w.forEach(function(e){e.update(t),(e.x<0||e.x>=n||e.y<0||e.y>=r)&&w.splice(index,1),x.forEach(function(t){b(e,t)&&(t.split(),delete t.x)})}),g.update(),m(g)}(o),s.clearRect(0,0,n,r),s.fillStyle=\"#000000\",s.fillRect(0,0,n,r),g.load(\"img/ship.jpg\"),g.render(s),x.forEach(function(t){t.render(s)}),f<1||(d=JSON.parse(JSON.stringify(h)),window.requestAnimationFrame(t))}),k.prototype.load=function(t){(a=new Image).src=\"img/ship.jpg\"},k.prototype.update=function(t){this.y+=y*t},k.prototype.render=function(t){t.drawImage(a,this.x,this.y)},k.prototype.rotate=function(t){t.translate(0+this.width/2,0+this.height/2),t.rotate(this.angle*Math.PI/180),s.drawImage(this.img,this.x,this.y,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height)},M.prototype.load=function(t){c=new Image,a.src=\"img/asteroid.jpg\"},M.prototype.render=function(t){t.drawImage(c,this.x,this.y,mass,mass)},M.prototype.split=function(){x.push(new M(0,0,v,mass/Math.sqrt(2))),x.push(new M(0,0,v,mass/Math.sqrt(2)))},j.prototype.update=function(t){this.x+=.2*y,this.y+=.2*y},j.prototype.render=function(t){context.beginPath(),context.fillStyle=\"#FFFFFF\",context.beginPath(),context.moveTo(0,0),context.lineTo(0+l,0+l),context.stroke()},console.log(\"Game started\")}]);","extractedComments":[]}
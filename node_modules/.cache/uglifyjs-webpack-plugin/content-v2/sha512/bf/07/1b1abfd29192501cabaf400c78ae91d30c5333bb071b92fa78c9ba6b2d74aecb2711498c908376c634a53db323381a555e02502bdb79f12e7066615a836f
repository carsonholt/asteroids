{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";function o(e,t){return{x:e.x+t.x,y:e.y+t.y}}n.r(t);const r=720,i=600;var s=document.createElement(\"canvas\"),a=s.getContext(\"2d\");s.height=i,s.width=r,document.body.appendChild(s);var c,u=null,h={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},d={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},f=3,p=5,y=r/2,g=i/2,x={x:0,y:0},w={x:0,y:0},b=.001,M=new class{constructor(e,t){this.x=e,this.y=t,this.angle=0,this.ship=new Image,this.ship.src=\"img/ship.jpg\",this.width=30,this.height=40,console.log(\"Player: (\"+this.x+\", \"+this.y+\")\")}update(e){this.x+=w.x*e,this.y+=w.y*e}render(e){e.save(),e.rotate(this.angle*Math.PI/180),e.translate(this.x,this.y),e.drawImage(this.ship,this.x,this.y),console.log(\"Draw image: \"+c.src+\" at \"+this.x+\", \"+this.y),e.restore()}}(r/2,i/2);M.x=y,M.y=g;var k=[],j=[];function O(e){(e.x<0||e.x>=r)&&(e.x%=r),e.y%=i}function P(e,t){return e.x>=t.x&&e.x<t.x+t.width&&e.y>=t.y&&e.y<t.y+t.height&&(console.log(\"collision detected\"),console.log(e.constructor.name),console.log(t.constructor.name),!0)}window.addEventListener(\"keydown\",function(e){switch(e.key){case\" \":h.space=!0;break;case\"ArrowLeft\":h.left=!0;break;case\"ArrowRight\":h.right=!0;break;case\"ArrowUp\":h.up=!0;break;case\"ArrowDown\":h.down=!0}e.preventDefault()}),console.log(\"Add listener\"),window.addEventListener(\"keyup\",function(e){switch(e.key){case\" \":console.log(\"no fire?\",h,d),h.space=!1;break;case 37:h.left=!1;break;case 39:h.right=!1;break;case 38:h.up=!1;break;case 40:h.down=!1}}),window.requestAnimationFrame(function e(t){u||(u=t);var n=t-u;u=t,0==j.length&&function(){for(0;j.length<p;){console.log(\"asteroid length: \"+j.length);var e=Math.random()*r,t=Math.random()*i;if(e<r/2-50||e>r/2+50||t<i/2-50||t>i/2+50){var n=10*Math.random()-5,o=10*Math.random()-5,s=40*Math.random()+20;j.push(e,t,{x:n,y:o},s),console.log(\"New asteroid at: (\"+e+\", \"+t+\") with speed (\"+n+\", \"+o+\") and mass \"+s)}}}(),function(e){h.space&&!d.space&&(k.push(new F(y+15,g,10)),console.log(\"laser fired\")),h.up&&(w=o(w,{x:0,y:-1}),g+=w.y*e*b,console.log(\"y: \"+g)),h.down&&(w=o(w,{x:0,y:1}),g+=w.y*e*b,console.log(\"y: \"+g)),h.left&&console.log(y),h.right&&console.log(y),j.forEach(function(e){if(P(e,M))return life--,M.x=r/2,void(M.y=i/2);(e.x<10||e.x>r||e.y<1||e.y>i)&&O(e)}),k.forEach(function(t){t.update(e),(t.x<0||t.x>=r||t.y<0||t.y>=i)&&k.splice(index,1),j.forEach(function(e){P(t,e)&&(e.split(),delete e.x)})}),M.update(e),O(M)}(n),a.clearRect(0,0,r,i),a.fillStyle=\"#000000\",a.fillRect(0,0,r,i),M.render(a),j.forEach(function(e){}),f<1||(d=JSON.parse(JSON.stringify(h)),window.requestAnimationFrame(e))});function S(e,t,n,o){this.x=e,this.y=t,this.v=n,this.m=o,this.asteroidImg=new Image,this.asteroidImg.src=\"img/asteroid.jpg\"}function F(e,t,n){this.x=e,this.y=t,this.l=n}S.prototype.render=function(e){e.drawImage(void 0,y,g,Math.round(m),Math.round(m))},S.prototype.split=function(){j.push(new S(y,g,v,m/Math.sqrt(2))),j.push(new S(y,g,v,m/Math.sqrt(2)))},F.prototype.update=function(e){this.x+=.2*x,this.y+=.2*x},F.prototype.render=function(e){context.beginPath(),context.fillStyle=\"#FFFFFF\",context.beginPath(),context.moveTo(y,g),context.lineTo(y+l,g+l),context.stroke()},console.log(\"Game started\")}]);","extractedComments":[]}
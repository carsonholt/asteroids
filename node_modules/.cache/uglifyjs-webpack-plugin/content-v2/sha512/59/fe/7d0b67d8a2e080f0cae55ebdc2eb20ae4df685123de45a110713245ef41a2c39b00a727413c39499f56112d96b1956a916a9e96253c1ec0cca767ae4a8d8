{"code":"!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function o(t){var e=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}(t);return{x:t.x/e,y:t.y/e}}n.r(e);const r=720,i=600;var s=document.createElement(\"canvas\"),a=s.getContext(\"2d\");s.height=i,s.width=r,document.body.appendChild(s);var c=null,h={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},u={space:!1,left:!1,right:!1,up:!1,down:!1,w:!1},d=3,f=5,y=r/2,p=i/2,g={x:0,y:0},x={x:0,y:0},w=new class{constructor(t,e){this.x=t,this.y=e,this.angle=0,this.ship=new Image,this.ship.src=\"img/ship.jpg\",this.width=30,this.height=40,this.velocity=0,console.log(\"Player: (\"+this.x+\", \"+this.y+\")\")}update(t,e){e.space&&!u.space&&(m.push(new j(y+15,p,10)),console.log(\"laser fired\")),e.up&&(this.velocity+=4),e.down&&(this.velocity-=4),e.left&&angle--,e.right&&angle++,this.x+=x.x*t,this.y+=x.y*t}render(t){t.save(),t.rotate(this.angle*Math.PI/180),t.translate(this.x,this.y),t.drawImage(this.ship,-15,-20),t.restore()}}(r/2,i/2);w.x=y,w.y=p;var m=[],v=[];function b(t){(t.x<0||t.x>=r)&&(t.x%=r),t.y%=i}function k(t,e){return t.x>=e.x&&t.x<e.x+e.width&&t.y>=e.y&&t.y<e.y+e.height&&(console.log(\"collision detected\"),console.log(t.constructor.name),console.log(e.constructor.name),!0)}window.addEventListener(\"keydown\",function(t){switch(t.key){case\" \":h.space=!0;break;case\"ArrowLeft\":h.left=!0;break;case\"ArrowRight\":h.right=!0;break;case\"ArrowUp\":h.up=!0;break;case\"ArrowDown\":h.down=!0}t.preventDefault()}),console.log(\"Add listener\"),window.addEventListener(\"keyup\",function(t){switch(t.key){case\" \":console.log(\"no fire?\",h,u),h.space=!1;break;case 37:h.left=!1;break;case 39:h.right=!1;break;case 38:h.up=!1;break;case 40:h.down=!1}}),window.requestAnimationFrame(function t(e){c||(c=e);var n=e-c;c=e,0==v.length&&function(){for(0;v.length<f;){console.log(\"asteroid length: \"+v.length);var t=Math.random()*r,e=Math.random()*i;if(t<r/2-50||t>r/2+50||e<i/2-50||e>i/2+50){var n=2*Math.random()-1,o=2*Math.random()-1,s=40*Math.random()+20;v.push(new M(t,e,{x:n,y:o},s)),console.log(\"New asteroid at: (\"+t+\", \"+e+\") with speed (\"+n+\", \"+o+\") and mass \"+s)}}}(),function(t){o(x),v.forEach(function(e){if(e.update(t),k(e,w))return d--,w.x=r/2,void(w.y=i/2);(e.x<10||e.x>r||e.y<1||e.y>i)&&b(e)}),m.forEach(function(e){e.update(t),(e.x<0||e.x>=r||e.y<0||e.y>=i)&&m.splice(index,1),v.forEach(function(t){k(e,t)&&t.split()})}),w.update(t),b(w)}(n),a.clearRect(0,0,r,i),a.fillStyle=\"#000000\",a.fillRect(0,0,r,i),w.render(a),v.forEach(function(t){t.render(a)}),d<1||(u=JSON.parse(JSON.stringify(h)),window.requestAnimationFrame(t))});class M{constructor(t,e,n,o){this.x=t,this.y=e,this.v=n,this.m=o,this.asteroidImg=new Image,this.asteroidImg.src=\"img/asteroid.jpg\"}render(t){t.drawImage(this.asteroidImg,this.x,this.y,Math.round(this.m),Math.round(this.m))}update(t){this.x+=this.v.x*t,this.y+=this.v.y*t}}function j(t,e,n){this.x=t,this.y=e,this.l=n}j.prototype.update=function(t){this.x+=.2*g,this.y+=.2*g},j.prototype.render=function(t){context.beginPath(),context.fillStyle=\"#FFFFFF\",context.beginPath(),context.moveTo(y,p),context.lineTo(y+l,p+l),context.stroke()},console.log(\"Game started\")}]);","extractedComments":[]}